{% extends 'layout.html' %}

{% block body %}
<h1>List</h1>
<p>This shows a list of all items that have been added already. Including impact information. Maybe also date and time of when it was added. Maybe some more statistics.</p>
<br>
<button onclick="testingComm()">Try</button>
<table class="table">
	<thead>
		<tr>
			<th scope="col">Food type</th>
			<th scope="col">Amount</th>
			<th scope="col">Global Warming Potential</th>
			<th scope="col">Energy Consumption</th>
			<th scope="col">Water Usage</th>
			<th scope="col">Date added</th>
		</tr>
		<tr>
			<th scope="col">Unit</th>
			<th scope="col">1</th>
			{% for ref_unit in ref_units %}
			<th scope="col">{{ref_unit}}</th>
			{% endfor %}
		</tr>
	</thead>
	<tbody>
		{% for purchase in purchases %}
		<tr>
			<th scope="row">{{ purchase.category }}</th>
			<td>{{ purchase.amount }}</td>
			<td>{{ purchase.globalWarmingPotential }}</td>
			<td>{{ purchase.energyConsumption }}</td>
			<td>{{ purchase.waterUsage }}</td>
			<td>{{ purchase.dateAdded }}</td>
		</tr>
		{% endfor %}
	</tbody>
	<tfoot>
		<tr>
			<td>Sum</td>

		</tr>
	</tfoot>
</table>
<table id='TestingT'>
	<thead>
			<tr>
				<th scope="col">Food type</th>
				<th scope="col">Amount</th>
				<th scope="col">Global Warming Potential</th>
				<th scope="col">Energy Consumption</th>
				<th scope="col">Water Usage</th>
				<th scope="col">Date added</th>
			</tr>
	</thead>
</table>
<script>
	function testingComm() {
		$.get('/testData', function(data) {
			console.log(data)
		}, alert('did not work'));
	};
</script>
{% endblock %}	